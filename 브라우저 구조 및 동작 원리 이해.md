# 브라우저 구성요소

![image](https://github.com/KoGaYoung/JS-study/assets/36693355/0a0d672b-6254-451e-8f93-69a87f88339c)

~~~
사용자 인터페이스: 주소검색창, 버튼 등 GUI
브라우저 엔진: 위에꺼랑 아래꺼 사이 동작 제어
렌더링 엔진: Html, css 파싱해서 화면에 그려줌. 브라우저마다 사용하는 엔진 다름 (그때문에 크로스브라우징 발생)

자료저장소: 로컬스토리지, 쿠키 등
통신: http, https 통신
js엔진: 자바스크립트 읽음
ui 백앤드: input, button, select 등 기본적인 위젯 그리는 인터페이스
~~~

# 화면에 요소들이 그려지는 방법
~~~
css Tree + Dom Tree = (합치기(Attachment)) => render Tree -> 정확한 위치와 픽셀 크기를 계산 (배치(Layout) or Reflow) -> 진짜 화면에 그리기(patining)
~~~

# reflow
~~~
HTML요소의 크기나 위치 등의 레이아웃 수치가 변하면 해당 요소의 영향을 받는 자식 노드나 부모 노드들을 포함하여 Layout(Reflow)과정을 다시 수행
- DOM 노드의 추가, 제거
- DOM 노드의 위치 변경
- DOM 노드의 크기 변경(margin, padding, border, width, height 등..)
- CSS3 애니메이션과 트랜지션
- 폰트 변경, 텍스트 내용 변경
- 이미지 크기 변경
- offset, scrollTop, scrollLeft과 같은 계산된 스타일 정보 요청
- 페이지 초기 렌더링
- 윈도우 리사이징
~~~

# repaint
~~~
화면의 구조가 변경되지 않는 화면 변화의 경우 Repaint만 발생한다. 예를 들면 opacity, background-color, visibility, outline 등의 스타일 변경 시에는 Repaint만 동작한다.
~~~

# 주소창에 naver 를 치면 무슨 일이 일어날까
~~~
1. 도메인 요청 naver.com (프로토콜은 디폴트가 http임)
2. DNS 서버에서 ip 주소로 바꿔줌 125.209.222.141 (통신사 DNS에서 캐시있으면 바로 리턴 없으면 루트DNS 접속해서 찾아옴)
3. 얻어온 IP주소에 페이지 달라고 http 요청을 TCP로 보냄 (요롷게)
<img width="1019" alt="image" src="https://github.com/KoGaYoung/JS-study/assets/36693355/19409059-4185-43bb-8bdc-fe6d293be2b2">
4. 필요한 html과 js파일들을 받아온다. (csr이면 빈 html를 줄꺼고 ssr이면 완성된 html를 주겠지...)
5. 받아온 화면으로 요소 그리기 (랜더트리 만들어서 배치 페인트!)
~~~
