# 실행 컨택스트 (This!!!)
~~~
자바스크립트는 콜스택에 실행할 함수들을 모아 문맥(context)을 만든다.
실행 컨택스트는 콜스택 최상단의 실행할 코드에 제공할 환경 정보들을 모아놓은 '객체'이다.
(지금 내가 사용할 수 있는 변수들, 함수들 모음집이라고 생각)

실행 컨택스트에 담기는 정보
1. Variable Environment(변수 환경): 변수명과 현수 현재 값, 함수 명과 참조가 저장됨
2. Lexical Environment(어휘 환경): 변수, 함수 외에도 외부 스코프와 연결정보를 가짐 -> 이 정보는 스코프체인 형성에 사용됨
   -> Lexical Environment는 스코프체인과 함께 클로저를 구현하는데 사용됨
3. ThisBinding (this): 현재 실행 컨택스트에서 This 키워드가 바라봐야 할 대상 객체
~~~

# 실행 컨택스트가 하는 일(요약)
~~~
1. 선언된 변수와 함수를 스코프의 맨위로 끌어 올린다.
2. 외부 환경 정보 구성
3. this 값을 설정한다.
~~~


~~~
클로저는 함수가 정의될 때 Lexical Environment(어휘 환경)을 기억(스냅샷)해서 함수 내부에서 외부 변수에 접근할 수 있는 기능을 의미함.
1. 함수 안에 다른 함수가 있을 때, 내부 함수는 외부 함수의 변수에 접근할 수 있다.
2. 외부 함수가 종료된 이후에도 내부 함수는 외부 함수의 변수에 접근할 수 있다.
3. private 변수처럼 사용 가능

ex 1)
function outer() {
  let x = 10;

  // inner 함수가 선언되면서 외부함수에 대한 스코프체인을 보고 x 값을 가져다 사용
  function inner() {
    console.log(x);
  }

  return inner;
}

const closureFunction = outer(); // inner() 리턴함;
closureFunction(); // console.log(10);

ex 2)
// 클로저 함수 =
const createCounter = () => {
  let count = 0; // 비공개 변수

  // 리턴하면서 함수를 반환하는데 이 함수가 선언될 때 외부함수에 대한 스코프체인을 보고 count 값 가져다 씀 
  return () => {
    return ++count;
  }
}

const counter1 = createCounter();
console.log(counter1()); // 1
console.log(counter1()); // 2 

const counter2 = createCounter();
console.log(counter2()); // 1 (독립적인 상태를 유지)
console.log(counter1()); // 3 (counter1과 counter2는 서로 다른 클로저를 가짐)

~~~
